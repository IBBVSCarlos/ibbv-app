<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Boletim IBBV S√£o Carlos</title>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css" rel="stylesheet">
  <style>
    body { font-family: 'Segoe UI', sans-serif; background: #121212; color: #f0f0f0; }
    .container { max-width: 800px; margin: auto; padding: 20px; background: #1e1e1e; border-radius: 10px; }
    h2 { color: #66bb6a; }
    button { margin-top: 10px; padding: 10px 15px; background: #66bb6a; color: white; border: none; border-radius: 5px; cursor: pointer; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Boletim Informativo</h1>
    <div id="semana"></div>

    <section id="versiculo">
      <h2>Vers√≠culo do Dia</h2>
      <p>Carregando vers√≠culo...</p>
      <button onclick="mostrarAleatorio()">üìñ Ver outro vers√≠culo</button>
    </section>
  </div>

  <script>
    let versiculosLista = [];

    const hoje = new Date();
    const dia = String(hoje.getDate()).padStart(2, '0');
    const mes = String(hoje.getMonth() + 1).padStart(2, '0');
    const ano = hoje.getFullYear();
    const dataHoje = `${ano}-${mes}-${dia}`;

    fetch("data/versiculos_do_ano.json")
      .then(res => res.json())
      .then(lista => { 
        versiculosLista = lista;
        const versiculoHoje = lista.find(v => v.data === dataHoje) || lista.find(v => v.data === "fallback");
        mostrarVersiculo(versiculoHoje);
      })
      .catch(() => {
        document.querySelector("#versiculo p").textContent = "Erro ao carregar vers√≠culo.";
      });

    function mostrarVersiculo(versiculo) { 
      const p = document.querySelector("#versiculo p");
      p.innerHTML = `<strong>${versiculo.livro} ${versiculo.capitulo}:${versiculo.versiculo}</strong><br><em>"${versiculo.texto}"</em>`;
    }

    function mostrarAleatorio() {
      const aleatorio = versiculosLista[Math.floor(Math.random() * versiculosLista.length)];
      mostrarVersiculo(aleatorio);
    }

    const hojeData = new Date();
    const diaDaSemana = hojeData.getDay();
    const domingo = new Date(hojeData);
    domingo.setDate(hojeData.getDate() - diaDaSemana);
    const sabado = new Date(domingo);
    sabado.setDate(domingo.getDate() + 6);
    document.getElementById('semana').textContent = `Semana de ${domingo.getDate()} a ${sabado.getDate()} de ${sabado.toLocaleDateString('pt-BR', { month: 'long', year: 'numeric' })}`;
  </script>
</body>
</html>
